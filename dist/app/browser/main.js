import{a as y,b as I,c as x,d as U,e as m}from"./chunk-54QM4O3L.js";import{a as D}from"./chunk-ES6ILSZM.js";import"./chunk-H3UCXOXM.js";import{$ as b,Ga as w,J as f,K as g,L as v,U as A,_ as C,aa as P,ca as T,da as p,fa as R,i as d,j as u,k as n,m as h,n as l,qa as S,t as o,v as s}from"./chunk-TNJDMAVS.js";import"./chunk-ULBIGD3G.js";import"./chunk-FEBVYFP7.js";import"./chunk-JM4337FT.js";import"./chunk-BVYU3FJT.js";import"./chunk-JDETYR3C.js";import"./chunk-7SKQ7KRS.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-2YSZFPCQ.js";import"./chunk-57YRIO75.js";import"./chunk-REYR55MP.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import"./chunk-TJJGX4BS.js";var M=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=s({type:t,selectors:[["app-root"]],standalone:!0,features:[A],decls:2,vars:0,template:function(i,a){i&1&&(f(0,"ion-app"),v(1,"router-outlet"),g())},dependencies:[S,T],encapsulation:2})}}return t})();var c=()=>{let t=o(m),r=o(p);return t.currentUser$.pipe(n(e=>e?!0:r.createUrlTree(["/auth/login"])))};var j=()=>{let t=o(D),r=o(p);return t.profile$.pipe(n(e=>e?e.role==="admin"||e.role==="compliance"?!0:r.createUrlTree(["/tabs/dashboard"]):r.createUrlTree(["/tabs/dashboard"])))};var G=[{path:"",redirectTo:"welcome",pathMatch:"full"},{path:"welcome",loadComponent:()=>import("./chunk-R5J4XQ5A.js").then(t=>t.WelcomePage)},{path:"auth/login",loadComponent:()=>import("./chunk-TGZNMKCI.js").then(t=>t.LoginPage)},{path:"auth/register",loadComponent:()=>import("./chunk-QTRKJFYT.js").then(t=>t.RegisterPage)},{path:"kyc",canActivate:[c],loadComponent:()=>import("./chunk-ZQB5NKJC.js").then(t=>t.KycPage)},{path:"tabs",canActivate:[c],loadComponent:()=>import("./chunk-3HQN4FZO.js").then(t=>t.TabsPage),children:[{path:"dashboard",loadComponent:()=>import("./chunk-IBZC6QDZ.js").then(t=>t.DashboardPage)},{path:"beneficiaries",loadComponent:()=>import("./chunk-UHXYFC6N.js").then(t=>t.BeneficiariesPage)},{path:"orders",loadComponent:()=>import("./chunk-QPCLFCEC.js").then(t=>t.OrdersPage)},{path:"profile",loadComponent:()=>import("./chunk-HLPRNCYY.js").then(t=>t.ProfilePage)},{path:"admin",canActivate:[j],loadComponent:()=>import("./chunk-VGA3W4G6.js").then(t=>t.AdminPage)},{path:"",redirectTo:"dashboard",pathMatch:"full"}]},{path:"order/:id",canActivate:[c],loadComponent:()=>import("./chunk-52K4HN4E.js").then(t=>t.OrderDetailPage)},{path:"**",redirectTo:"welcome"}];var B=(t,r)=>{let e=o(m),i=o(p);return d(e.getIdToken()).pipe(l(a=>{let E=a?t.clone({setHeaders:{Authorization:`Bearer ${a}`}}):t;return r(E)}),h(a=>(a.status===401&&t.url.includes("/auth/logout")&&i.navigateByUrl("/auth/login"),u(()=>a))))};P(M,{providers:[R(G),C(b([B])),w(),y(()=>I({apiKey:"demo",authDomain:"demo.firebaseapp.com",projectId:"demo"})),x(()=>U())]}).catch(t=>console.error(t));
