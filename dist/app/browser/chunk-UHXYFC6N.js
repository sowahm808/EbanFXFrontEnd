import{a as $}from"./chunk-H3UCXOXM.js";import{Aa as M,B as a,D as g,Da as O,E as h,Ea as V,F as S,G as v,H as y,I as C,Ia as L,J as t,Ja as U,K as e,L as d,N as I,P as n,Q as N,S as _,U as B,ga as c,ha as E,ia as T,ja as x,la as w,ma as F,na as A,oa as D,ra as P,t as m,v as b,wa as k,xa as G,ya as R,za as q}from"./chunk-TNJDMAVS.js";import"./chunk-ULBIGD3G.js";import"./chunk-FEBVYFP7.js";import"./chunk-JM4337FT.js";import"./chunk-BVYU3FJT.js";import"./chunk-JDETYR3C.js";import"./chunk-7SKQ7KRS.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-2YSZFPCQ.js";import"./chunk-57YRIO75.js";import"./chunk-REYR55MP.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import{a as p,b as f,f as u}from"./chunk-TJJGX4BS.js";var j=(i,r)=>r.id;function H(i,r){i&1&&(t(0,"div",7),n(1,"No beneficiaries yet."),e())}function z(i,r){if(i&1&&(t(0,"ion-item")(1,"ion-label")(2,"h3"),n(3),e(),t(4,"p"),n(5),e()()()),i&2){let o=r.$implicit;a(3),N(o.name),a(2),_("",o.country," \u2022 ",o.walletAddress,"")}}var te=(()=>{class i{constructor(){this.api=m($),this.fb=m(A),this.toastCtrl=m(L),this.items=g([]),this.form=this.fb.nonNullable.group({name:["",c.required],country:["",c.required],walletAddress:["",c.required]})}ngOnInit(){this.load()}load(){this.api.listBeneficiaries().subscribe(o=>this.items.set(o))}submit(){return u(this,null,function*(){this.form.invalid||this.api.createBeneficiary(f(p({},this.form.getRawValue()),{walletAsset:"USDT",walletNetwork:"TRON"})).subscribe(()=>u(this,null,function*(){this.form.reset(),this.load(),yield(yield this.toastCtrl.create({message:"Beneficiary saved.",duration:1600,color:"success"})).present()}))})}static{this.\u0275fac=function(l){return new(l||i)}}static{this.\u0275cmp=b({type:i,selectors:[["ng-component"]],standalone:!0,features:[B],decls:24,vars:2,consts:[[1,"ion-padding"],[3,"ngSubmit","formGroup"],["position","stacked"],["formControlName","name"],["formControlName","country"],["formControlName","walletAddress"],["type","submit","expand","block",1,"ion-margin-top"],[1,"empty-state"]],template:function(l,s){l&1&&(t(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),n(3,"Beneficiaries"),e()()(),t(4,"ion-content",0)(5,"form",1),I("ngSubmit",function(){return s.submit()}),t(6,"ion-item")(7,"ion-label",2),n(8,"Name"),e(),d(9,"ion-input",3),e(),t(10,"ion-item")(11,"ion-label",2),n(12,"Country"),e(),d(13,"ion-input",4),e(),t(14,"ion-item")(15,"ion-label",2),n(16,"TRON USDT Address"),e(),d(17,"ion-input",5),e(),t(18,"ion-button",6),n(19,"Create Beneficiary"),e()(),h(20,H,2,0,"div",7),t(21,"ion-list"),y(22,z,6,3,"ion-item",null,j),e()()),l&2&&(a(5),S("formGroup",s.form),a(15),v(20,s.items().length===0?20:-1),a(2),C(s.items()))},dependencies:[G,V,O,k,R,q,U,P,M,D,x,E,T,w,F],encapsulation:2})}}return i})();export{te as BeneficiariesPage};
