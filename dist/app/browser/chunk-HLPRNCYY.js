import{e as k}from"./chunk-54QM4O3L.js";import{a as I}from"./chunk-ES6ILSZM.js";import"./chunk-H3UCXOXM.js";import{B as c,Da as b,Ea as P,J as e,K as t,N as u,P as i,R as s,U as S,da as h,ra as g,t as a,v as d,wa as v,xa as _}from"./chunk-TNJDMAVS.js";import"./chunk-ULBIGD3G.js";import"./chunk-FEBVYFP7.js";import"./chunk-JM4337FT.js";import"./chunk-BVYU3FJT.js";import"./chunk-JDETYR3C.js";import"./chunk-7SKQ7KRS.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-2YSZFPCQ.js";import"./chunk-57YRIO75.js";import"./chunk-REYR55MP.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import{f}from"./chunk-TJJGX4BS.js";var B=(()=>{class o{constructor(){this.userService=a(I),this.authService=a(k),this.router=a(h)}ngOnInit(){this.refresh()}refresh(){this.userService.refreshMe().subscribe()}logout(){return f(this,null,function*(){yield this.authService.logout(),this.userService.clear(),yield this.router.navigateByUrl("/auth/login")})}static{this.\u0275fac=function(r){return new(r||o)}}static{this.\u0275cmp=d({type:o,selectors:[["ng-component"]],standalone:!0,features:[S],decls:15,vars:3,consts:[[1,"ion-padding"],["expand","block","fill","outline",3,"click"],["expand","block","color","danger",3,"click"]],template:function(r,n){if(r&1&&(e(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),i(3,"Profile"),t()()(),e(4,"ion-content",0)(5,"p"),i(6),t(),e(7,"p"),i(8),t(),e(9,"p"),i(10),t(),e(11,"ion-button",1),u("click",function(){return n.refresh()}),i(12,"Refresh Profile"),t(),e(13,"ion-button",2),u("click",function(){return n.logout()}),i(14,"Logout"),t()()),r&2){let l,m,p;c(6),s("Email: ",(l=n.userService.profileSignal())==null?null:l.email,""),c(2),s("Role: ",(m=n.userService.profileSignal())==null?null:m.role,""),c(2),s("KYC: ",(p=n.userService.profileSignal())==null?null:p.kycStatus,"")}},dependencies:[_,P,b,v,g],encapsulation:2})}}return o})();export{B as ProfilePage};
