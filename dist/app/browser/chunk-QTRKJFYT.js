import{e as q}from"./chunk-54QM4O3L.js";import{B as m,Da as P,E as d,Ea as k,F as g,G as u,Ha as G,Ia as M,J as t,Ja as V,K as e,L as c,N as h,P as n,U as v,da as C,ea as b,ga as l,ha as S,ia as w,ja as y,la as R,ma as _,na as E,oa as I,ra as N,t as a,v as f,wa as T,xa as x,ya as F,za as L}from"./chunk-TNJDMAVS.js";import"./chunk-ULBIGD3G.js";import"./chunk-FEBVYFP7.js";import"./chunk-JM4337FT.js";import"./chunk-BVYU3FJT.js";import"./chunk-JDETYR3C.js";import"./chunk-7SKQ7KRS.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-2YSZFPCQ.js";import"./chunk-57YRIO75.js";import"./chunk-REYR55MP.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import{f as p}from"./chunk-TJJGX4BS.js";function D(i,B){i&1&&(t(0,"div",4),n(1,"Valid email required."),e())}function A(i,B){i&1&&(t(0,"div",4),n(1,"Min 6 characters."),e())}var X=(()=>{class i{constructor(){this.fb=a(E),this.authService=a(q),this.router=a(C),this.loadingCtrl=a(G),this.toastCtrl=a(M),this.form=this.fb.nonNullable.group({email:["",[l.required,l.email]],password:["",[l.required,l.minLength(6)]]})}submit(){return p(this,null,function*(){if(this.form.invalid)return;let s=yield this.loadingCtrl.create({message:"Creating account..."});yield s.present();try{let{email:r,password:o}=this.form.getRawValue();yield this.authService.register(r,o),yield this.router.navigateByUrl("/kyc")}catch{yield(yield this.toastCtrl.create({message:"Registration failed.",duration:2200,color:"danger"})).present()}finally{yield s.dismiss()}})}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275cmp=f({type:i,selectors:[["ng-component"]],standalone:!0,features:[v],decls:20,vars:3,consts:[[1,"ion-padding"],[3,"ngSubmit","formGroup"],["position","stacked"],["formControlName","email","type","email"],[1,"inline-error"],["formControlName","password","type","password"],["type","submit","expand","block",1,"ion-margin-top"],["fill","clear","routerLink","/auth/login"]],template:function(r,o){r&1&&(t(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),n(3,"Register"),e()()(),t(4,"ion-content",0)(5,"form",1),h("ngSubmit",function(){return o.submit()}),t(6,"ion-item")(7,"ion-label",2),n(8,"Email"),e(),c(9,"ion-input",3),e(),d(10,D,2,0,"div",4),t(11,"ion-item")(12,"ion-label",2),n(13,"Password"),e(),c(14,"ion-input",5),e(),d(15,A,2,0,"div",4),t(16,"ion-button",6),n(17,"Create account"),e()(),t(18,"ion-button",7),n(19,"Already registered? Login"),e()()),r&2&&(m(5),g("formGroup",o.form),m(5),u(10,o.form.controls.email.touched&&o.form.controls.email.invalid?10:-1),m(5),u(15,o.form.controls.password.touched&&o.form.controls.password.invalid?15:-1))},dependencies:[x,k,P,T,F,L,V,N,I,y,S,w,R,_,b],encapsulation:2})}}return i})();export{X as RegisterPage};
